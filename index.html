<!DOCTYPE html>
<html lang="zh-TW" data-lang-key-target="html" data-lang-attr="lang">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Chill Work - ç°¡æ½”å„ªé›…çš„å…¨å±å·¥ä½œç’°å¢ƒï¼Œæä¾›æ™‚é˜ã€æ—¥æœŸå’Œå¤©æ°£ä¿¡æ¯">
    <meta name="keywords" content="å°ˆæ³¨, å·¥ä½œ, è¨ˆæ™‚å™¨, æ™‚é˜, å…¨å±, å°ˆæ³¨åŠ›">
    <meta name="author" content="Denos">
    <title data-lang-key="page_title">Chill Work</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Oswald:wght@700&display=swap" rel="stylesheet">
    <!-- Add other fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">
    <!-- Choices.js CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css"/>
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* å‚™ç”¨Gill Sanså­—å‹é…ç½® */
        @font-face {
            font-family: 'Gill Sans';
            src: local('Gill Sans'), local('Gill Sans MT'), local('Gill Sans MT Pro');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'Gill Sans';
            src: local('Gill Sans Bold'), local('Gill Sans MT Bold'), local('Gill Sans MT Pro Bold');
            font-weight: bold;
            font-style: normal;
        }

        /* === Weather Warning Container (Bottom) === */
        #weather-warning-container {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            color: rgb(255, 235, 82);
            padding: 8px 20px;
            text-align: center;
            font-size: 0.85rem;
            font-weight: bold;
            z-index: 998; /* Below timer button/context menu */
            display: none; /* Initially hidden */
        }

        #weather-warning-container.visible {
            display: block;
            opacity: 1;
            transform: translateY(0); /* Slide in */
        }
    </style>
</head>
<body>
    <!-- Background Container -->
    <div id="background-container">
        <!-- YouTube Player will be injected here by the API -->
        <div id="youtube-player"></div> 
    </div>

    <!-- Main Content Container -->
    <div class="container">
        <div class="content-wrapper">
            <!-- Date -->
            <div id="date-container">
                <p id="date"></p>
            </div>
            <!-- Clock -->
            <div id="clock-container">
                <p id="clock"></p>
            </div>
            <!-- Weather -->
            <div id="weather-container">
                <p id="weather"></p>
            </div>
        </div>

        <!-- Memo Container -->
        <div id="memo-container"></div>

        <!-- Meme Widget -->
        <div id="meme-widget" class="widget draggable-widget hidden" data-widget-id="meme">
            <div class="widget-header">
                <span data-lang-key="widget_meme_title">ğŸ¤£ Meme Time</span>
                <button class="widget-close-btn" data-lang-key="widget_close_aria" data-lang-attr="aria-label" aria-label="Close Meme Widget">&times;</button>
            </div>
            <div class="widget-content">
                <img id="meme-image" src="" data-lang-key="widget_meme_loading_alt" data-lang-attr="alt" alt="Loading meme...">
                <button id="new-meme-btn" class="modal-btn widget-btn" data-lang-key="widget_meme_new_button">New Meme</button>
            </div>
            <div class="resize-handle" data-resize-for="meme-widget"></div>
        </div>

        <!-- To-Do List Widget -->
        <div id="todo-widget" class="widget draggable-widget hidden" data-widget-id="todo">
            <div class="widget-header">
                <span data-lang-key="widget_todo_title">âœ… To-Do List</span>
                <button class="widget-close-btn" data-lang-key="widget_close_aria" data-lang-attr="aria-label" aria-label="Close To-Do Widget">&times;</button>
            </div>
            <div class="widget-content">
                <div id="todo-input-container">
                    <input type="text" id="todo-input" data-lang-key="widget_todo_placeholder" data-lang-attr="placeholder" placeholder="Add a new task...">
                    <button id="add-todo-btn" data-lang-key="widget_todo_add_aria" data-lang-attr="aria-label" aria-label="Add Task">+</button>
                </div>
                <ul id="todo-list">
                    <!-- To-do items will be added here -->
                </ul>
            </div>
            <div class="resize-handle" data-resize-for="todo-widget"></div>
        </div>
    </div>

    <!-- Settings & Help Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h2 data-lang-key="settings_modal_title">è¨­å®šèˆ‡å¹«åŠ©</h2>
                <button id="close-modal-btn" class="close-btn">&times;</button>
            </div>
            <!-- Modal Body -->
            <div class="modal-body">
                <!-- Background Section -->
                <section class="modal-section">
                    <h3 data-lang-key="settings_section_background">èƒŒæ™¯è¨­å®š</h3>
                    <div class="setting-group youtube-group">
                        <label for="youtube-input" data-lang-key="settings_label_youtube">YouTube å½±ç‰‡:</label>
                        <div class="input-with-history">
                           <input type="text" id="youtube-input" data-lang-key="settings_placeholder_youtube" data-lang-attr="placeholder" placeholder="è¼¸å…¥ YouTube URLï¼ˆæœƒä¿å­˜ä¸Šé™ 10 æ¢æ­·å²è¨˜éŒ„ï¼‰" autocomplete="off">
                           <div class="history-list-container hidden" id="youtube-history-container">
                               <ul class="history-list" id="youtube-history-list"></ul>
                           </div>
                        </div>
                        <button class="modal-btn" data-action="youtube" data-lang-key="settings_button_set">è¨­å®š</button>
                    </div>
                     <div class="setting-group checkbox-group youtube-resume-group">
                         <input type="checkbox" id="youtube-resume-checkbox" checked>
                         <label for="youtube-resume-checkbox" data-lang-key="settings_label_youtube_resume">å¾ä¸Šæ¬¡é—œé–‰æ™‚ç¹¼çºŒæ’­æ”¾</label>
                     </div>
                    <div class="setting-group image-group">
                        <label for="image-input" data-lang-key="settings_label_image">åœ–ç‰‡èƒŒæ™¯:</label>
                         <div class="input-with-history">
                            <input type="text" id="image-input" data-lang-key="settings_placeholder_image" data-lang-attr="placeholder" placeholder="è¼¸å…¥åœ–ç‰‡ URLï¼ˆæœƒä¿å­˜ä¸Šé™ 10 æ¢æ­·å²è¨˜éŒ„ï¼‰" autocomplete="off">
                            <div class="history-list-container hidden" id="image-history-container">
                                <ul class="history-list" id="image-history-list"></ul>
                            </div>
                        </div>
                        <button class="modal-btn" data-action="image" data-lang-key="settings_button_set">è¨­å®š</button>
                    </div>
                    <div class="setting-group video-group">
                        <label for="video-input" data-lang-key="settings_label_video">å½±ç‰‡èƒŒæ™¯:</label>
                        <div class="input-with-history">
                            <input type="text" id="video-input" data-lang-key="settings_placeholder_video" data-lang-attr="placeholder" placeholder="è¼¸å…¥å½±ç‰‡ URLï¼ˆæœƒä¿å­˜ä¸Šé™ 10 æ¢æ­·å²è¨˜éŒ„ï¼‰" autocomplete="off">
                            <div class="history-list-container hidden" id="video-history-container">
                                <ul class="history-list" id="video-history-list"></ul>
                            </div>
                        </div>
                        <button class="modal-btn" data-action="video" data-lang-key="settings_button_set">è¨­å®š</button>
                    </div>
                    <div class="setting-group single-button">
                         <button class="modal-btn wide-btn" data-action="clear" data-lang-key="settings_button_clear">æ¸…é™¤èƒŒæ™¯ (æˆ–æ‹–æ”¾æª”æ¡ˆ)</button>
                    </div>
                </section>

                <!-- Weather Section -->
                <section class="modal-section">
                    <h3 data-lang-key="settings_section_weather">å¤©æ°£è¨­å®š (æš«æ™‚åªæ”¯æ´é¦™æ¸¯å¤©æ–‡å°)</h3>
                    <div class="setting-group">
                        <label for="location-select" data-lang-key="settings_label_location">åœ°å€:</label>
                        <select id="location-select" class="modal-select">
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </div>
                    <div class="setting-group horizontal-checkbox-container">
                        <div class="checkbox-item">
                            <input type="checkbox" id="weather-enabled-checkbox" checked>
                            <label for="weather-enabled-checkbox" data-lang-key="settings_label_weather_enable">é¡¯ç¤ºå¤©æ°£è³‡è¨Š</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="warning-enabled-checkbox" checked>
                            <label for="warning-enabled-checkbox" data-lang-key="settings_label_warning_enable">é¡¯ç¤ºå¤©æ°£è­¦å‘Š (è‹¥æœ‰)</label>
                        </div>
                    </div>
                     <div class="setting-group single-button">
                        <button class="modal-btn wide-btn" data-action="update-weather" data-lang-key="settings_button_update_weather">æ‰‹å‹•æ›´æ–°å¤©æ°£</button>
                    </div>
                </section>

                <!-- Font Settings Section -->
                <section class="modal-section">
                    <h3 data-lang-key="settings_section_font">å­—é«”è¨­å®š</h3>
                    <div class="setting-group">
                        <label for="font-select" data-lang-key="settings_label_font">æ‡‰ç”¨ç¨‹å¼å­—é«”:</label>
                        <select id="font-select" class="modal-select">
                            <option value="default">é è¨­ (Montserrat / Noto Sans TC)</option>
                            <option value="opensans">Open Sans / Noto Sans TC</option>
                            <option value="serif">è¥¯ç·š (Merriweather / Noto Serif TC)</option>
                            <option value="system">ç³»çµ±é è¨­</option>
                        </select>
                        <!-- Empty cell for grid alignment -->
                        <div></div>
                    </div>
                </section>

                <!-- Other Section -->
                <section class="modal-section">
                    <h3 data-lang-key="settings_section_other">å…¶ä»–åŠŸèƒ½</h3>
                     <div class="setting-group">
                        <label for="language-select" data-lang-key="settings_label_language">èªè¨€:</label>
                        <select id="language-select" class="modal-select">
                            <option value="zh-TW">ç¹é«”ä¸­æ–‡</option>
                            <option value="en">English</option>
                        </select>
                        <!-- Empty cell for grid alignment -->
                        <div></div> 
                    </div>
                    <div class="setting-group button-row">
                        <button class="modal-btn" data-action="fullscreen" data-lang-key="settings_button_fullscreen">åˆ‡æ›å…¨å±</button>
                        <button class="modal-btn" data-action="toggle-todo" data-lang-key="settings_button_todo">å¾…è¾¦äº‹é …</button>
                        <button class="modal-btn" data-action="add-memo" data-lang-key="settings_button_add_memo">æ–°å¢ Memo</button> 
                    </div>
                </section>

                <!-- Shortcuts Section -->
                <section class="modal-section">
                    <h3 data-lang-key="settings_section_shortcuts">éµç›¤å¿«æ·éµ</h3>
                    <ul class="shortcut-list">
                        <li><kbd>H</kbd> <span data-lang-key="shortcut_toggle_modal">é¡¯ç¤º/éš±è—æ­¤è¦–çª—</span></li>
                        <li><kbd>F</kbd> <span data-lang-key="shortcut_toggle_fullscreen">åˆ‡æ›å…¨è¢å¹•</span></li>
                        <li><kbd>W</kbd> <span data-lang-key="shortcut_update_weather">æ›´æ–°å¤©æ°£è³‡è¨Š</span></li>
                        <li><kbd>T</kbd> <span data-lang-key="shortcut_toggle_todo">é¡¯ç¤º/éš±è—å¾…è¾¦äº‹é …</span></li>
                        <li><kbd>N</kbd> <span data-lang-key="shortcut_add_memo">æ–°å¢ Memo</span></li> 
                        <li><kbd>Esc</kbd> <span data-lang-key="shortcut_close_modal">é—œé–‰æ­¤è¦–çª—</span></li>
                    </ul>
                </section>
            </div>
        </div>
    </div>

    <!-- Focus Complete Modal -->
    <div id="focus-complete-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-lang-key="focus_complete_title">å°ˆæ³¨å®Œæˆï¼</h2>
                <button id="close-complete-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p style="text-align: center; font-size: 1.2rem; margin-bottom: 20px;" data-lang-key="focus_complete_message">åšå¾—å¥½ï¼ä¼‘æ¯ä¸€ä¸‹å§ï¼</p>
                <div class="setting-group button-row">
                    <button class="modal-btn" data-action="restart-timer" data-lang-key="focus_complete_restart">é‡æ–°é–‹å§‹</button>
                    <button class="modal-btn" data-action="close-modal" data-lang-key="focus_complete_close">é—œé–‰</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Focus Duration Modal -->
    <div id="focus-duration-modal" class="modal">
        <div class="modal-content small-modal"> <!-- Optional: Add a class for potentially smaller size -->
            <div class="modal-header">
                <h2 data-lang-key="focus_duration_title">è¨­å®šå°ˆæ³¨æ™‚é–“</h2>
                <button id="close-duration-modal-btn" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p data-lang-key="focus_duration_prompt" style="margin-bottom: 15px; text-align: center;">è«‹è¼¸å…¥æ‚¨æƒ³è¦å°ˆæ³¨çš„æ™‚é–“ï¼ˆHH:MM:SSï¼‰ï¼š</p>
                <div class="setting-group duration-input-group">
                    <input type="number" id="duration-input-hours" min="0" max="99" value="0" class="duration-input"> 
                    <span class="duration-separator">:</span>
                    <input type="number" id="duration-input-minutes" min="0" max="59" value="25" class="duration-input">
                    <span class="duration-separator">:</span>
                    <input type="number" id="duration-input-seconds" min="0" max="59" value="0" class="duration-input">
                </div>
                <div class="setting-group button-row" style="margin-top: 20px;">
                    <button id="start-timer-modal-btn" class="modal-btn" data-lang-key="focus_duration_start_button">é–‹å§‹è¨ˆæ™‚</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Temporary Message Area -->
    <div id="temp-message-container"></div>

    <!-- Weather Warning Container -->
    <div id="weather-warning-container"></div>

    <!-- JavaScript Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <!-- Choices.js JS -->
    <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
    <!-- YouTube IFrame Player API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <!-- Main Script -->
    <script src="js/script.js"></script>
</body>
</html> 